syntax = "proto3";

package coordinator;

option go_package = "github.com/jmsadair/keychain/proto/pbcoordinator";

import "google/protobuf/timestamp.proto";

// MembershipChangeOpType indicates the type of operation that is associated with a MembershipChangeOperation.
enum MembershipChangeOpType {
	// Add a member to a chain configuration.
	ADD = 0;
	// Remove a member from a chain configuration.
	REMOVE = 1;
} 

// MembershipChangeOperation is an operation on a chain configuration that can be applied to a raft cluster.
message MembershipChangeOperation {
	// The address that this operation is impacting.
	string member = 1;
	// The type of the operation occurring.
	MembershipChangeOpType op = 2;
}

// Log is a log entry in the raft log.
message Log {
	// The index of this log entry.
	uint64 index = 1;
	// The election term of this log entry.
	uint64 term = 2;
	// The type of this log entry.
	uint32 type = 3;
	// The data of this log entry.
	bytes data = 4;
	// The extensions for this log entry.
	bytes extensions = 5;
	// The time at which this log entry was appended to the log.
	google.protobuf.Timestamp appended_at = 6;
}
